# v0.1 documentation implementation plan

## Overview

Version 0.1 delivers a documentation system that serves plain markdown files
from the `/docs/` directory through the existing MDX infrastructure. The focus
is on quickly exposing existing documentation while maintaining a path to future
Isograph integration and cross-monorepo documentation.

## Goals

| Goal                  | Description                          | Success criteria                                         |
| --------------------- | ------------------------------------ | -------------------------------------------------------- |
| Markdown rendering    | Serve .md files from `/docs/` folder | Markdown files render at boltfoundry.com/docs/[filename] |
| MDX infrastructure    | Reuse existing MDX renderer          | Syntax highlighting, styling work out of the box         |
| Build-time processing | Process markdown during build        | Generated import map includes all .md files              |
| Direct routing        | Bypass Isograph for speed            | Docs load quickly without GraphQL overhead               |

## Anti-goals

| Anti-goal              | Reason                                      |
| ---------------------- | ------------------------------------------- |
| MDX/JSX components     | Focus on plain markdown first               |
| Isograph integration   | Optimize for speed, add GraphQL layer later |
| Runtime file loading   | Stick with build-time for performance       |
| Cross-monorepo docs    | Start with `/docs/` only, expand later      |
| File extension routing | Future work (.md, .pdf extensions in URLs)  |

## Technical approach

Extend the existing MDX build infrastructure to also process `.md` files from
the `/docs/` directory. Continue using direct routing (bypassing Isograph) for
speed. The build pipeline will process markdown files and generate an import
map, allowing the MDX renderer to handle plain markdown with all its features
(syntax highlighting, styling, etc.).

## Components

| Status | Component              | Purpose                                  |
| ------ | ---------------------- | ---------------------------------------- |
| âœ…     | `DocsPage.tsx`         | Direct route component for docs pages    |
| âœ…     | `/docs/` directory     | Contains 15 markdown documentation files |
| ðŸ”„     | Build pipeline updates | Need to process `.md` files              |
| âœ…     | Route registration     | `/docs/*` routes already working         |
| ðŸ”„     | Import map generation  | Need to include `.md` files              |

## Technical decisions

| Decision                    | Reasoning                            | Alternatives considered        |
| --------------------------- | ------------------------------------ | ------------------------------ |
| Process `.md` files as MDX  | Reuse existing infrastructure        | Build separate markdown system |
| Direct routing (no GraphQL) | Speed of implementation              | Isograph integration now       |
| Build-time processing       | Better performance, existing pattern | Runtime file loading           |
| `/docs/` directory only     | Start simple, expand later           | All monorepo docs immediately  |
| Keep MDX renderer features  | Free syntax highlighting, styling    | Strip down to basic markdown   |
| Import map generation       | Automatic, maintainable              | Manual imports for each doc    |
| Ignore `.mdx` files         | Focus on plain markdown              | Process both file types        |

## Next steps

| Question                | How to explore                            |
| ----------------------- | ----------------------------------------- |
| MDX component styling   | Test with existing blog styles first      |
| Navigation between docs | Start with manual links, auto-gen later   |
| Search functionality    | Not needed for v0.1, revisit if requested |

## Existing content (15 files)

```
docs/
â”œâ”€â”€ README.md               # Documentation overview
â”œâ”€â”€ BACKLOG.md              # Development backlog
â”œâ”€â”€ CHANGELOG.md            # Version history
â”œâ”€â”€ STATUS.md               # Current project status
â”œâ”€â”€ business-vision.md      # Business strategy
â”œâ”€â”€ company-vision.md       # Company direction
â”œâ”€â”€ deck-system.md          # Deck/card system docs
â”œâ”€â”€ early-content-plan.md   # Content strategy
â”œâ”€â”€ improving-inference-philosophy.md  # AI philosophy
â”œâ”€â”€ library-vision.md       # Library architecture
â”œâ”€â”€ marketing-plan.md       # Marketing strategy
â”œâ”€â”€ measurement-strategy.md # Metrics and KPIs
â”œâ”€â”€ product-plan.md         # Product roadmap
â”œâ”€â”€ team-story.md           # Team background
â””â”€â”€ wut.md                  # (Unknown content)
```

## Implementation notes

### Build-time import map generation

The docs system uses static build-time imports due to ESBuild/Isograph
architecture:

1. MDX files in `/docs/` are compiled during build
2. An import map is generated at
   `apps/boltFoundry/__generated__/docsImportMap.ts`
3. The Docs component statically imports all docs via the generated map
4. Route slugs map to pre-imported components (no dynamic loading)

This approach ensures type safety, build-time validation, and optimal
performance.

## Implementation checklist

### 0.1.0: Markdown support (today's focus)

- [ ] Update `infra/appBuild/contentBuild.ts` to:
  - Process `.md` files from `/docs/` directory (not MDX files)
  - Generate import map including both `.md` and `.mdx` files
  - Use MDX compiler to process plain markdown
- [ ] Update `apps/boltFoundry/pages/DocsPage.tsx` to handle markdown files
- [ ] Update tests to expect markdown processing
- [ ] Verify all 15 markdown files in `/docs/` render correctly

### 0.1.x: Future enhancements

- [ ] Add `/docs` index page listing all available documentation
- [ ] Improve URL slug handling for better navigation
- [ ] Add basic navigation between docs
- [ ] Ensure code blocks have syntax highlighting
- [ ] Apply consistent typography and spacing
- [ ] Add copy-to-clipboard for code blocks
- [ ] Style to match Bolt Foundry design system
- [ ] Document the path to cross-monorepo documentation
- [ ] Plan for file extension routing (.md, .pdf)
- [ ] Design migration path to Isograph integration
- [ ] E2E tests for all documentation routes
- [ ] Build pipeline tests for markdown processing
- [ ] Manual verification of all docs content
- [ ] Create GraphQL types for documentation
- [ ] Migrate from direct routing to Isograph entrypoints
- [ ] Add document querying capabilities
- [ ] Enable dynamic documentation features

## Success metrics for v0.1.0

- All 15 markdown files from `/docs/` are accessible at `/docs/[filename]`
- Markdown content renders with proper formatting
- Build process successfully compiles `.md` files
- No errors when navigating to documentation pages

## Current status

### What's working

- MDX infrastructure for processing and rendering
- Direct routing pattern (bypassing Isograph)
- Build-time content processing pipeline
- 15 markdown files ready in `/docs/` directory

### Implementation strategy

1. **Extend MDX infrastructure to handle `.md` files**
   - Modify contentBuild.ts to process both `.md` and `.mdx`
   - Generate unified import map
   - Let MDX renderer handle plain markdown

2. **Continue with direct routing**
   - Already proven to work
   - Faster implementation
   - No GraphQL complexity

3. **Future-proof architecture**
   - Keep Isograph integration as a future enhancement (0.1.5)
   - Design with cross-monorepo docs in mind
   - Plan for file extension routing
